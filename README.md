# ğŸ­ í”„ë¡œì´íŠ¸ ë°•ì‚¬ì˜ ê¿ˆí•´ëª½ ìƒë‹´ì†Œ

ì§€ê·¸ë¬¸íŠ¸ í”„ë¡œì´íŠ¸ì˜ ã€ê¿ˆì˜ í•´ì„ã€ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ AI ê¿ˆí•´ëª½ ìƒë‹´ ì±—ë´‡ì…ë‹ˆë‹¤.  
RAG(Retrieval-Augmented Generation) ì‹œìŠ¤í…œìœ¼ë¡œ ì›ë¬¸ì„ ì°¸ì¡°í•˜ì—¬ ì •í™•í•œ ì •ì‹ ë¶„ì„í•™ì  í•´ì„ì„ ì œê³µí•©ë‹ˆë‹¤.

> *"ê¿ˆì€ ë¬´ì˜ì‹ìœ¼ë¡œ ê°€ëŠ” ì™•ë„ì´ë‹¤"* - ì§€ê·¸ë¬¸íŠ¸ í”„ë¡œì´íŠ¸

## âš ï¸ ì´ìš© ì•ˆë‚´

**ì´ ì„œë¹„ìŠ¤ëŠ” ì˜¤ë½ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•´ì£¼ì„¸ìš”.**  
í”„ë¡œì´íŠ¸ì˜ ê¿ˆ í•´ì„ ì´ë¡ ì€ 20ì„¸ê¸° ì´ˆ ì´ë¡ ìœ¼ë¡œ, í˜„ëŒ€ ê³¼í•™ì—ì„œëŠ” ê²€ì¦ë˜ì§€ ì•Šì€ ë¶€ë¶„ì´ ë§ìŠµë‹ˆë‹¤.  
ì‹¤ì œ ì‹¬ë¦¬ì  ê³ ë¯¼ì´ ìˆìœ¼ì‹œë©´ ì „ë¬¸ ìƒë‹´ì‚¬ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **ğŸ“˜ ë¬¸í—Œ ê¸°ë°˜ ë¶„ì„**: ã€ê¿ˆì˜ í•´ì„ã€ ì›ë¬¸ì„ ì§ì ‘ ì¸ìš©í•˜ë©° í•´ì„
- **ğŸ­ í”„ë¡œì´íŠ¸ì˜ ì¶”ë¡ ì  í•´ì„**: ê°œì¸ì  í†µì°°ê³¼ ì² í•™ì  ì‚¬ìƒ‰ ì œê³µ
- **ğŸ” ê³ í’ˆì§ˆ RAG ì‹œìŠ¤í…œ**: FAISS ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ê´€ë ¨ ì›ë¬¸ ìë™ ê²€ìƒ‰
- **ğŸ“Š ì¶œì²˜ íˆ¬ëª…ì„±**: ì‹¤ì œ ì°¸ê³ í•œ ë¬¸í—Œ êµ¬ì ˆì„ ì‚¬ìš©ìì—ê²Œ ê³µê°œ
- **âš¡ ë¹ ë¥¸ ì‘ë‹µ**: OpenAI GPT-4.1ë¡œ ê³ í’ˆì§ˆ ì‘ë‹µ ìƒì„±

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ì„± ìš”ì†Œ | ê¸°ìˆ  |
|-----------|------|
| LLM | OpenAI GPT-4.1 |
| ì„ë² ë”© | intfloat/multilingual-e5-base |
| ë²¡í„° DB | FAISS (CPU) |
| í”„ë ˆì„ì›Œí¬ | Streamlit + LangChain |
| ëŸ°íƒ€ì„ | Python 3.11+ |

## ğŸ“¦ ì„¤ì¹˜ ë°©ë²•

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/chi2hoon/dream_bot.git
cd dream_bot

# ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)
python -m venv venv
source venv/bin/activate  # macOS/Linux
# ë˜ëŠ” Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. OpenAI API í‚¤ ì„¤ì •

âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: API í‚¤ëŠ” ì ˆëŒ€ ê¹ƒí—ˆë¸Œì— ì—…ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”!

**ë¡œì»¬ ì‹¤í–‰ìš©:**
```bash
# .streamlit/secrets.toml íŒŒì¼ì— API í‚¤ ì„¤ì •
mkdir -p .streamlit
echo 'OPENAI_API_KEY = "your_openai_api_key_here"' > .streamlit/secrets.toml

# .gitignoreì— ì˜í•´ ìë™ìœ¼ë¡œ ë³´í˜¸ë¨ (ì´ë¯¸ ì„¤ì •ë¨)
```

**Streamlit Cloud ë°°í¬ìš©:**
1. GitHubì— ì½”ë“œ í‘¸ì‹œ
2. [Streamlit Cloud](https://share.streamlit.io)ì— ë¡œê·¸ì¸
3. ì•± ìƒì„± í›„ Settings â†’ Secretsì—ì„œ ë‹¤ìŒ ì„¤ì •:
   ```toml
   OPENAI_API_KEY = "your_openai_api_key_here"
   ```

### 3. ì¸ë±ìŠ¤ í™•ì¸

í”„ë¡œì íŠ¸ì—ëŠ” ì´ë¯¸ í”„ë¡œì´íŠ¸ì˜ ã€ê¿ˆì˜ í•´ì„ã€ ì¸ë±ìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  
ë§Œì•½ ì¸ë±ìŠ¤ë¥¼ ì¬ìƒì„±í•˜ë ¤ë©´:

```bash
# PDF íŒŒì¼ì„ ë²¡í„° ì¸ë±ìŠ¤ë¡œ ë³€í™˜
python scripts/build_index.py
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
# Streamlit ì•± ì‹¤í–‰
streamlit run app/app.py

# ë˜ëŠ” í¬íŠ¸ ì§€ì •
streamlit run app/app.py --server.port 8080
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8501` ì ‘ì†

## ğŸŒ Streamlit Cloud ë°°í¬

### 1. GitHubì— ì½”ë“œ ì—…ë¡œë“œ
```bash
git add .
git commit -m "Add Freud dream interpretation app"
git push origin main
```

### 2. Streamlit Cloud ë°°í¬
1. [Streamlit Cloud](https://share.streamlit.io)ì— GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. "New app" í´ë¦­
3. GitHub ì €ì¥ì†Œ ì„ íƒ
4. Main file path: `app/app.py`
5. "Deploy!" í´ë¦­

### 3. API í‚¤ ì„¤ì •
1. ë°°í¬ëœ ì•±ì˜ "Settings" â†’ "Secrets" ì´ë™
2. ë‹¤ìŒ ë‚´ìš© ì…ë ¥:
   ```toml
   OPENAI_API_KEY = "your_openai_api_key_here"
   ```
3. "Save" í´ë¦­

ì´ì œ ì „ ì„¸ê³„ ì–´ë””ì„œë“  í”„ë¡œì´íŠ¸ ë°•ì‚¬ì˜ ê¿ˆí•´ëª½ ìƒë‹´ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ­

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
dream_bot/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ app.py              # ğŸ­ í”„ë¡œì´íŠ¸ ë°•ì‚¬ ë©”ì¸ ì•±
â”œâ”€â”€ data/
â”‚   â””â”€â”€ freud_dreams.pdf    # ğŸ“š í”„ë¡œì´íŠ¸ ã€ê¿ˆì˜ í•´ì„ã€ ì›ë¬¸
â”œâ”€â”€ index/                  # ğŸ” FAISS ë²¡í„° ì¸ë±ìŠ¤ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ dream_index.faiss   # ë²¡í„° ì¸ë±ìŠ¤
â”‚   â”œâ”€â”€ chunks.pkl          # ë¬¸ì„œ ì²­í¬ ë°ì´í„°
â”‚   â””â”€â”€ config.json         # ì¸ë±ìŠ¤ ì„¤ì • ì •ë³´
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build_index.py      # ğŸ—ï¸ PDF ì¸ë±ì‹± ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ secrets.toml        # ğŸ” API í‚¤ ì„¤ì •
â”œâ”€â”€ deploy/
â”‚   â””â”€â”€ DEPLOYMENT_GUIDE.md # ğŸ“– ë°°í¬ ê°€ì´ë“œ
â””â”€â”€ requirements.txt        # ğŸ“¦ ì˜ì¡´ì„± ëª©ë¡
```

## ğŸ’­ ì‚¬ìš©ë²•

### ê¸°ë³¸ ìƒë‹´ ë°©ë²•
1. **ê¿ˆ ì…ë ¥**: ì±„íŒ…ì°½ì— ê¿ˆì˜ ë‚´ìš©ì„ ìì„¸íˆ ê¸°ìˆ 
2. **í•´ì„ í™•ì¸**: í”„ë¡œì´íŠ¸ ë°•ì‚¬ì˜ 2ë‹¨ê³„ í•´ì„ í™•ì¸
   - **ğŸ“˜ ë¬¸í—Œ ê¸°ë°˜ ë¶„ì„**: ã€ê¿ˆì˜ í•´ì„ã€ ì›ë¬¸ ì¸ìš©
   - **ğŸ­ í”„ë¡œì´íŠ¸ì˜ ì¶”ë¡ ì  í•´ì„**: ê°œì¸ì  í†µì°°ê³¼ ì² í•™ì  ì‚¬ìƒ‰
3. **ì›ë¬¸ í™•ì¸**: "ê²€ìƒ‰ëœ ã€ê¿ˆì˜ í•´ì„ã€ ì›ë¬¸" ì„¹ì…˜ì—ì„œ ì‹¤ì œ ì°¸ê³  ë¬¸í—Œ í™•ì¸
4. **ì¶”ê°€ ìƒë‹´**: ë” ìì„¸í•œ ì„¤ëª…ì´ë‚˜ ë‹¤ë¥¸ í•´ì„ì´ í•„ìš”í•˜ë©´ ëŒ€í™” ê³„ì†

### ê²€ìƒ‰ í’ˆì§ˆ í™•ì¸
- **ê´€ë ¨ë„ ì ìˆ˜**: ğŸŸ¢ë†’ìŒ(0.7+) / ğŸŸ¡ë³´í†µ(0.5+) / ğŸ”´ë‚®ìŒ(0.5-)
- **ê²€ìƒ‰ í’ˆì§ˆ ìš”ì•½**: í‰ê·  ê´€ë ¨ë„ì™€ ê³ í’ˆì§ˆ êµ¬ì ˆ ìˆ˜ í‘œì‹œ
- **ì›ë¬¸ ë¯¸ê²€ìƒ‰ ì‹œ**: ìë™ìœ¼ë¡œ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ

## âš¡ ì„±ëŠ¥ ë° íŠ¹ì§•

### RAG ì‹œìŠ¤í…œ ê³ ë„í™”
- **ë‹¤ì¤‘ ì¿¼ë¦¬ ê²€ìƒ‰**: ì˜ì–´/í•œêµ­ì–´/ì •ì‹ ë¶„ì„ ìš©ì–´ë¡œ í™•ì¥ ê²€ìƒ‰
- **í’ˆì§ˆ í•„í„°ë§**: ìœ ì‚¬ë„ 0.5 ì´í•˜ ê²°ê³¼ ìë™ ì œê±°
- **ì¤‘ë³µ ì œê±°**: ë™ì¼ ì²­í¬ì˜ ìµœê³  ì ìˆ˜ë§Œ ìœ ì§€
- **ì¶œì²˜ íˆ¬ëª…ì„±**: ì‹¤ì œ í™œìš©ëœ ì›ë¬¸ êµ¬ì ˆ ì™„ì „ ê³µê°œ

### í™˜ê° ë°©ì§€ ì‹œìŠ¤í…œ
- **ìš°ì„ ìˆœìœ„ ê°•ì¡°**: ë¬¸í—Œ ë‚´ìš© ìš°ì„  í™œìš© ì§€ì‹œ
- **ì¶œì²˜-ì¶”ë¡  ë¶„ë¦¬**: ì›ë¬¸ ì¸ìš©ê³¼ ê°œì¸ì  í•´ì„ ëª…í™•íˆ êµ¬ë¶„
- **ê²€ìƒ‰ ì‹¤íŒ¨ ëŒ€ì‘**: ê´€ë ¨ ë¬¸í—Œ ë¶€ì¡± ì‹œ ëª…ì‹œì  ê²½ê³ 

## ğŸ”§ ê³ ê¸‰ ì„¤ì •

### ì²­í¬ í¬ê¸° ì¡°ì •

`scripts/build_index.py`ì—ì„œ:

```python
self.text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=600,      # í¬ê¸° ì¡°ì • (ê¸°ë³¸: 600)
    chunk_overlap=100,   # ì¤‘ë³µ ì¡°ì • (ê¸°ë³¸: 100)
)
```

### ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ ë³€ê²½

`app/app.py`ì—ì„œ:

```python
relevant_chunks = st.session_state.rag_bot.search_similar_chunks(prompt, k=15)  # kê°’ ì¡°ì •
```

### í’ˆì§ˆ ì„ê³„ê°’ ì¡°ì •

```python
# í’ˆì§ˆ í•„í„°ë§: ìœ ì‚¬ë„ê°€ ë„ˆë¬´ ë‚®ì€ ê²ƒ ì œê±°
filtered_results = [r for r in final_results if r['score'] > 0.5]  # ì„ê³„ê°’ ì¡°ì •
```

## ğŸ“Š ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

| ì§€í‘œ | ê°’ |
|------|-----|
| ë¬¸ì„œ ì²­í¬ ìˆ˜ | ~10,500ê°œ (í”„ë¡œì´íŠ¸ ì›ë¬¸) |
| ì¸ë±ì‹± ì‹œê°„ | ~5ë¶„ (ì²« ì‹¤í–‰ ì‹œ) |
| ì„ë² ë”© ëª¨ë¸ ë¡œë”© | ~10ì´ˆ (ì²« ì‹¤í–‰ ì‹œ) |
| RAG ê²€ìƒ‰ | ~1-2ì´ˆ (ë‹¤ì¤‘ ì¿¼ë¦¬) |
| ì‘ë‹µ ìƒì„± | ~3-8ì´ˆ (GPT-4.1 API) |
| ë©”ëª¨ë¦¬ ì‚¬ìš© | ~1-2GB (ë¡œì»¬ LLM ë¶ˆí•„ìš”) |

## ğŸ› ë¬¸ì œ í•´ê²°

### "OpenAI API í‚¤ ë¯¸ì„¤ì •" ì˜¤ë¥˜

**ë¡œì»¬ ì‹¤í–‰:**
```bash
# secrets.toml íŒŒì¼ í™•ì¸
cat .streamlit/secrets.toml

# API í‚¤ ì¬ì„¤ì •
echo 'OPENAI_API_KEY = "your_actual_api_key"' > .streamlit/secrets.toml
```

**Streamlit Cloud:**
1. ì•± í˜ì´ì§€ì—ì„œ "Settings" í´ë¦­
2. "Secrets" íƒ­ì—ì„œ API í‚¤ í™•ì¸/ìˆ˜ì •

### "ê´€ë ¨ ë¬¸í—Œì´ ê²€ìƒ‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤" ê²½ê³ 

1. ê¿ˆ ë‚´ìš©ì„ ë” êµ¬ì²´ì ìœ¼ë¡œ ê¸°ìˆ 
2. ìƒì§•ì  ìš”ì†Œë‚˜ ê°ì •ì„ í¬í•¨í•˜ì—¬ ì¬ì‹œë„
3. ì—¬ëŸ¬ ë²ˆ ì‹œë„í•˜ì—¬ ë‹¤ë¥¸ ê°ë„ë¡œ ê²€ìƒ‰

### ì¸ë±ìŠ¤ íŒŒì¼ ì˜¤ë¥˜

```bash
# ì¸ë±ìŠ¤ ì¬ìƒì„±
rm -rf index/
python scripts/build_index.py
```

### ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ (macOS)

sentence-transformersì™€ PyTorch í˜¸í™˜ì„± ë¬¸ì œ:

```bash
# Python 3.11 í™˜ê²½ ì‚¬ìš©
conda create -n dream_bot python=3.11
conda activate dream_bot
pip install -r requirements.txt
```

## ğŸ”’ ë³´ì•ˆ ê°€ì´ë“œ

### API í‚¤ ë³´í˜¸
- **âœ… ì•ˆì „**: `.streamlit/secrets.toml`ì— ì €ì¥ (`.gitignore`ë¡œ ë³´í˜¸ë¨)
- **âŒ ìœ„í—˜**: ì½”ë“œ ë‚´ì— í•˜ë“œì½”ë”©, `.env` íŒŒì¼ì„ ê¹ƒí—ˆë¸Œì— ì—…ë¡œë“œ
- **í™•ì¸ ë°©ë²•**: `git status`ì—ì„œ `secrets.toml`ì´ ë‚˜íƒ€ë‚˜ì§€ ì•Šì•„ì•¼ í•¨

### ê¹ƒí—ˆë¸Œ ì—…ë¡œë“œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
```bash
# 1. API í‚¤ê°€ ë³´í˜¸ë˜ëŠ”ì§€ í™•ì¸
git status | grep secrets.toml  # ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•Šì•„ì•¼ í•¨

# 2. ë¯¼ê°í•œ íŒŒì¼ë“¤ì´ ì œì™¸ë˜ì—ˆëŠ”ì§€ í™•ì¸
cat .gitignore | grep -E "(secrets|\.env|\.key)"

# 3. ê¹¨ë—í•œ ìƒíƒœë¡œ ì»¤ë°‹
git add .
git commit -m "Add Freud dream interpretation app"
git push origin main
```

## ğŸ“š í”„ë¡œì´íŠ¸ ì´ë¡  ë°°ê²½

ì´ ì•±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì£¼ìš” ì •ì‹ ë¶„ì„ ê°œë…ë“¤:

- **ë¬´ì˜ì‹**: ì˜ì‹ ë°–ì— ìˆëŠ” ì •ì‹  ì˜ì—­
- **ê¿ˆì˜ ì‘ì¶•**: ì—¬ëŸ¬ ìƒê°ì´ í•˜ë‚˜ì˜ ìƒì§•ìœ¼ë¡œ ì••ì¶•
- **ê¿ˆì˜ ì „ì¹˜**: ì¤‘ìš”í•œ ë‚´ìš©ì´ ì‚¬ì†Œí•œ ê²ƒìœ¼ë¡œ ë³€ì¥
- **ìƒì§•í™”**: ë¬´ì˜ì‹ì  ìš•ë§ì˜ ìš°íšŒì  í‘œí˜„
- **ì–µì••**: ë°›ì•„ë“¤ì´ê¸° ì–´ë ¤ìš´ ì¶©ë™ì˜ ë¬´ì˜ì‹ ì† ì €ì¥

## ğŸ“œ ë¼ì´ì„ ìŠ¤ ë° ì €ì‘ê¶Œ

- **ì½”ë“œ**: ê°œì¸ í”„ë¡œì íŠ¸ (íŠ¹ì • ë¼ì´ì„ ìŠ¤ ë¯¸ì§€ì •)
- **ë°ì´í„°**:
  - Freud's "The Interpretation of Dreams": Public Domain (ì €ì‘ê¶Œ ë§Œë£Œ)
- **AI ëª¨ë¸**: 
  - OpenAI GPT-4.1: OpenAI API ì´ìš©ì•½ê´€
  - intfloat/multilingual-e5-base: MIT License

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/DreamFeature`)
3. Commit your changes (`git commit -m 'Add dream interpretation feature'`)
4. Push to the branch (`git push origin feature/DreamFeature`)
5. Open a Pull Request

## ğŸ“ ë¬¸ì˜

ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ Issuesë¥¼ í†µí•´ ì•Œë ¤ì£¼ì„¸ìš”!

---

Made with ğŸ­ for exploring the unconscious mind through dreams 